---
title: Loading a Hamiltonian from file | Microsoft Docs
description: Loading a Hamiltonian from file Docs
author: guanghaolow
ms.author: gulow
ms.date: 10/23/2018
ms.topic: article-type-from-white-list
uid: microsoft.quantum.chemistry.examples.loadhamiltonian
---

## Loading a Hamiltonian from file
Previously, we constructed Hamiltonians by adding individual terms to it. While this is fine for small examples, quantum chemistry at scale require Hamiltonians with millions or billions of terms. Such Hamiltonians, generated by chemistry packages such as NWChem, are too large to import by hand. In this sample, we illustrate how a `FermionHamiltonian` instance may be automatically generated from a molecule represented by the [Broombridge schema](xref:microsoft.quantum.libraries.chemistry.schema.spec). For reference, one may inspect the provided `LithiumHydrideGUI` sample, or the `RunSimulation` sample. Limited support is also available for importing from the format consumed by [LIQUi|>](https://www.microsoft.com/en-us/research/project/language-integrated-quantum-operations-liqui/).

Let us consider the example of the Nitrogen molecule, which is provided in the `IntegralData/YAML` folder of the samples repository. The method for loading the `Broombridge` scheme is straightforward.

```csharp
// This is the name of the file we want to load
var filename = "n2_1_00Re_sto3g.nw.out.yaml";
// This is the directory containing the file
var root = "IntegralData\YAML";

// This constructs the `FermionHamiltonian` from `Broombridge` format.
var hamiltonian = FermionHamiltonian.LoadFromYAML($@"{root}\{filename}").Single();           

// Note that the `LoadFromYAML` schema returns a list of `FermionHamiltonian` instances as the file might describe multiple Hamiltonians. In this example, there is only one Hamiltonian. So we use `.Single()`, which selects the first element of the list.
```

The Broombridge schema also contains suggestions for the initial state to be prepared. The labels, e.g. `"|G⟩"` or `"|E1⟩"`, for these states may be seen by inspecting the file. In order to prepare these initial states, the `qSharpData` consumed by the Q# quantum algorithms is obtained similar to the [previous section](xref:microsoft.quantum.chemistry.examples.energyestimate), but with an additional parameter selecting the desired initial state. For instance,
```csharp
// Process Hamiltonitn to obtain Jordan-Wigner representation.
var jordanWignerEncoding = JordanWignerEncoding.Create(generalHamiltonian);

// The desired initial state, assuming that a description of it is present in the
// Broombridge schema.
var state = "|E1>" ;

// This creates the qSharpData consumable by the Q# chemistry library algorithms.
var qSharpData = jordanWignerEncoding.QSharpData(state);
```

We may also load a Hamiltonian from the LIQUi|> format, using a very similar syntax. 

```csharp
// This is the name of the file we want to load
var filename = "fe2s2_sto3g.dat"; // This is Ferrodoxin.
// This is the directory containing the file
var root = "IntegralData\Liquid";

// This constructs the `FermionHamiltonian` from `Broombridge` format.
var hamiltonian = FermionHamiltonian.LoadFromLiquid($@"{root}\{filename}").Single();           

// Note that the LIQUi|> format does not specify the number of electrons.
// This must be set manually by the user.
hamiltonian.NElectrons = 30; // The number 30 is just an example.
```

Starting from any such instance of a `FermionHamiltonian`, quantum algorithms such as quantum phase estimation may be run.